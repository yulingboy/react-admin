import { IsNotEmpty, IsOptional, IsString, IsNumber, IsBoolean, IsDate } from 'class-validator';

/**
 * <%= modelName %> 创建 DTO
 * @author <%= generator.functionAuthor %>
 * @date <%= new Date().toISOString().slice(0, 10) %>
 */
export class Create<%= className %>Dto {
<% columns.forEach(column => { 
  if (column.isInsert && !column.isPk && !column.isIncrement) { %>
  /**
   * <%= column.columnComment || column.columnName %>
   */
  <% if (column.isRequired) { %>@IsNotEmpty({ message: '<%= column.columnComment || column.columnName %>不能为空' })<% } else { %>@IsOptional()<% } %>
  <% if (column.tsType === 'string') { %>@IsString()<% } %>
  <% if (column.tsType === 'number') { %>@IsNumber()<% } %>
  <% if (column.tsType === 'boolean') { %>@IsBoolean()<% } %>
  <% if (column.tsType === 'Date') { %>@IsDate()<% } %>
  <%= column.columnName %><% if (!column.isRequired) { %>?<% } %>: <%= column.tsType %>;
<% }}); %>
}

/**
 * <%= modelName %> 更新 DTO
 * @author <%= generator.functionAuthor %>
 * @date <%= new Date().toISOString().slice(0, 10) %>
 */
export class Update<%= className %>Dto {
<% columns.forEach(column => { 
  if (column.isEdit && !column.isIncrement) { %>
  /**
   * <%= column.columnComment || column.columnName %>
   */
  @IsOptional()
  <% if (column.tsType === 'string') { %>@IsString()<% } %>
  <% if (column.tsType === 'number') { %>@IsNumber()<% } %>
  <% if (column.tsType === 'boolean') { %>@IsBoolean()<% } %>
  <% if (column.tsType === 'Date') { %>@IsDate()<% } %>
  <%= column.columnName %>?: <%= column.tsType %>;
<% }}); %>
}

/**
 * <%= modelName %> 查询 DTO
 * @author <%= generator.functionAuthor %>
 * @date <%= new Date().toISOString().slice(0, 10) %>
 */
export class Query<%= className %>Dto {
  /**
   * 当前页码
   */
  @IsOptional()
  @IsNumber()
  page?: number;

  /**
   * 每页数量
   */
  @IsOptional()
  @IsNumber()
  pageSize?: number;
  
<% columns.forEach(column => { 
  if (column.isQuery) { %>
  /**
   * <%= column.columnComment || column.columnName %>
   */
  @IsOptional()
  <% if (column.tsType === 'string') { %>@IsString()<% } %>
  <% if (column.tsType === 'number') { %>@IsNumber()<% } %>
  <% if (column.tsType === 'boolean') { %>@IsBoolean()<% } %>
  <% if (column.tsType === 'Date') { %>@IsDate()<% } %>
  <%= column.columnName %>?: <%= column.tsType %>;
<% }}); %>
}